# wrangler.toml

# ===================================================
# 1. تهيئة المشروع الأساسية (Project Metadata)
# ===================================================

# اسم العامل (Worker) الذي سيظهر في لوحة تحكم Cloudflare.
name = "news-backend-api"

# المسار إلى ملف الإخراج الرئيسي بعد تشغيل "npm run build".
# تأكد أن "tsc" ينتج ملف JavaScript في هذا المسار.
main = "dist/server.js"

# يجب أن يكون تاريخ التوافق حديثًا لضمان استخدام أحدث ميزات Workers.
compatibility_date = "2025-12-09"

# ===================================================
# 2. متغيّرات البيئة (Environment Variables)
# ===================================================

[vars]
# يمكن إضافة متغيرات غير سرية (مثل وضع التشغيل أو مفتاح عام) هنا.
# DATABASE_URL: لا يتم إضافته هنا! يجب إضافته كـ Secret عبر لوحة التحكم أو Wrangler CLI.
ENVIRONMENT = "production"


# ===================================================
# 3. إعدادات النشر (Deployment Settings - اختياري)
# ===================================================

# هذا القسم اختياري. إذا كنت تريد تشغيل العامل على مسار مخصص (Custom Route)
# بدلاً من النطاق الافتراضي worker.dev:

# [routes]
# pattern = "api.yourdomain.com/*"
# zone_id = "YOUR_ZONE_ID_HERE"